(this["webpackJsonphappy-app"]=this["webpackJsonphappy-app"]||[]).push([[0],{1014:function(e,t){},1015:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(100),i=n.n(s),r=(n(456),n(17)),o=n(1022),l=n(1021),j=n(20),d=n(140),b=n(1023),u=n(1020),h=n(23),O=n(56),m=n(9),p=function e(t){Object(m.a)(this,e),this.email=t.get("email"),this.id=t.id,this.name=t.getUsername(),this.role=t.get("role"),this.key=t.id},x=n(62),g=n.n(x),f=n(14),v=function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,null,[{key:"parseInit",value:function(){g.a.serverURL="https://parseapi.back4app.com/",g.a.initialize("diGq711AFYl6nzB3FASUfc0R8Yk0eKwW0A2HfLl5","qxSgb6hrFcMHEfJrcVqI8TxzxSzMzKdpltnZCne5")}},{key:"dateFormat",value:function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),n=new Intl.DateTimeFormat("en",{month:"short"}).format(e),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(c,"/").concat(n,"/").concat(t)}}]),e}(),y=n(3);var C=function(e){var t,n=e.onLogin,a=Object(c.useState)(),s=Object(r.a)(a,2),i=s[0],o=(s[1],Object(c.useState)()),m=Object(r.a)(o,2),p=m[0],x=m[1],f=Object(c.useState)(),C=Object(r.a)(f,2),k=C[0],w=C[1],S=Object(c.useState)(!1),I=Object(r.a)(S,2),N=I[0],F=I[1],U=Object(c.useState)(!1),E=Object(r.a)(U,2),L=E[0],T=E[1];return i?(console.log("is active!"+i.name),Object(y.jsx)(h.a,{activeUser:i,to:"/"})):Object(y.jsxs)("div",{className:"p-login",children:[Object(y.jsx)("h1",{children:"Login to Happy app "}),Object(y.jsxs)("p",{children:["or ",Object(y.jsx)(O.b,{to:"/signup",children:"create an account"})]}),N?Object(y.jsx)(d.a,{variant:"danger",onClose:function(){return F(!1)},dismissible:!0,children:"Invalid Credentials!"}):null,Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(b.a.Label,{children:"Email address"}),Object(y.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",value:p||"",onChange:function(e){return x(e.target.value)}}),Object(y.jsx)(b.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(y.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(b.a.Label,{children:"Password"}),Object(y.jsx)(b.a.Control,{type:"password",placeholder:"Password",value:k||"",onChange:function(e){return w(e.target.value)}})]}),Object(y.jsx)("div",{className:"d-grid gap-2",children:Object(y.jsxs)(u.a,(t={type:"submit",variant:"success"},Object(j.a)(t,"type","button"),Object(j.a)(t,"onClick",(function(){T(!0),v.parseInit(),g.a.User.logIn(p,k).then((function(e){localStorage.setItem("activeUser",JSON.stringify(i)),n(e)})).catch((function(e){console.error(e),console.log(e),F(!0)})).finally((function(){T(!1)}))})),Object(j.a)(t,"disabled",L),Object(j.a)(t,"children",["Login ",L?Object(y.jsx)(l.a,{animation:"border"}):null]),t))})]})]})},k=n(211),w=function e(t,n,c){Object(m.a)(this,e),this.image=t,this.title=n,this.rate=c,this.key=n+"_"+c},S=(n(408),n(171));var I=function(e){var t=e.mood,n=e.onCardClick;return Object(y.jsx)(S.a,{children:Object(y.jsxs)("a",{style:{cursor:"pointer"},onClick:function(){return n(t.rate)},children:[Object(y.jsx)(S.a.Img,{variant:"top moodImg",src:t.image,alt:t.title+" "+t.rate}),Object(y.jsx)(S.a.Body,{children:Object(y.jsxs)(S.a.Title,{children:[t.title," (",t.rate,")"]})})]})})};var N=function(e){var t=e.moods,n=(e.activeUser,e.onCardClick),c=t.map((function(e){return Object(y.jsx)(I,{onCardClick:function(){return n(e.rate)},mood:e},e.key+"1")}));return Object(y.jsx)("div",{className:"gallery",children:c})};var F=function(e){var t=e.activeUser,n=Object(c.useState)(new Date),a=Object(r.a)(n,2),s=a[0],i=a[1],l=Object(c.useState)(!1),j=Object(r.a)(l,2),u=j[0],h=j[1],m=Object(c.useState)([new w("./crying_cloud.png","Depressed",1),new w("./mad_sad_cloud.png","Sad",2),new w("./mad_cloud2.jpg","Angry",3),new w("./indifferent_sunshine.jpg","Ok",5),,new w("./partially_cloudy.png","Optmistic",8),new w("./sunshine.jpg","Quite Happy",9),,new w("./happy_sunshine.jpg","Happy",10)]),p=Object(r.a)(m,2),x=p[0];p[1];var f=t&&"admin"===t.role?Object(y.jsx)(O.b,{className:"link link-primary",to:"/graphs",children:"Go To Mood Graphs"}):null,C=Object(y.jsxs)(o.a,{children:[Object(y.jsxs)("h3",{children:["Hello ",t.name,"!"]}),Object(y.jsx)("h6",{children:"Please choose your current mood to rate it (on click)"}),Object(y.jsxs)(d.a,{style:{display:u?"block":"none"},className:"alert alert-secondary",children:[Object(y.jsx)("h4",{children:"Thank You!"}),Object(y.jsxs)("p",{children:[Object(y.jsx)(O.b,{className:"button button-primary",to:"/solutions",children:" Checkout suggested solutions"}),f]})]}),Object(y.jsxs)("div",{style:{display:u?"none":"block"},children:[Object(y.jsx)(N,{onCardClick:function(e){return function(e,n){v.parseInit(),console.log("saveToChart");var c=new(g.a.Object.extend("UserMoods"));console.log(n),c.set("userId",t.id),c.set("moodDate",n),c.set("email",t.email),c.set("moodRate",e),c.save().then((function(e){console.log("New object created with objectId: "+e.id),h(!0)}),(function(e){console.log("Failed to create new object, with error code: "+e.message)}))}(e,s)},moods:x,activeUser:t}),Object(y.jsxs)(k.a,{children:[Object(y.jsx)(b.a.Label,{children:"Custom Date:"}),Object(y.jsx)(b.a.Control,{type:"date",placeholder:v.dateFormat(s),onChange:function(e){return i(new Date(e.target.value))}})]}),";"]}),"   "]});return Object(y.jsx)("div",{className:"p-home",children:C})};var U=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),j=i[0],d=i[1];Object(c.useEffect)((function(){n&&setTimeout((function(){d(!0)}),3e3)}),[n]);var b=n?Object(y.jsxs)("div",{children:[Object(y.jsxs)("h3",{children:["Hello ",n.name,"!"]}),Object(y.jsx)("p",{children:"Please wait..."}),Object(y.jsx)(l.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Please Wait..."})})]}):null,u=j?Object(y.jsx)(F,{activeUser:n}):null;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{border:"1px solid black",display:n?"none":"block"},children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)("h1",{children:"Happy App"}),Object(y.jsx)("p",{children:"Find your way"})," ",Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:"./syzipus.jpeg",alt:"syzipus"})})," ",Object(y.jsx)("p",{children:"Let the stone of obligations be lighter.."}),Object(y.jsx)("div",{style:{border:"1px solid black",display:n?"none":"block"},children:Object(y.jsx)(C,{activeUser:n,onLogin:function(e){var t=new p(e);console.log("activeUsr:"+t.email),a(t)}})}),b]})}),u]})},E=(n(880),n(881),n(409),n(882),n(53));var L=function(e){return Object(y.jsxs)("div",{style:{display:"block",width:700,padding:30},children:[Object(y.jsx)("h4",{children:"What would you like to do today?"}),Object(y.jsxs)(E.a,{children:[Object(y.jsxs)(E.a.Item,{onClick:function(){return alert("Surprise!")},interval:1500,children:[Object(y.jsx)("h3",{children:"Surprise me!"}),Object(y.jsx)("img",{className:"d-block w-100",src:"./surprise.jpeg",alt:"Surprise me"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Surprise me!"})})]}),Object(y.jsxs)(E.a.Item,{onClick:function(){return alert("Rand me a song!!")},interval:500,children:[Object(y.jsx)("h3",{children:"Find me a song!"}),Object(y.jsx)("img",{className:"d-block w-100",src:"./song.jpg",alt:"Find me a song!"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Find me a song!"})})]}),Object(y.jsxs)(E.a.Item,{interval:500,onClick:"alert('Rand an activity!')",children:[Object(y.jsx)("h3",{children:"Find me an activity!"}),Object(y.jsx)("img",{className:"d-block w-100",src:"./activity.jpg",alt:"Find me an activity!"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Find me an activity!"})})]}),Object(y.jsxs)(E.a.Item,{interval:500,children:[Object(y.jsx)("h3",{children:"Meet people!"}),Object(y.jsx)("img",{onClick:function(){return alert("Meet People!")},className:"d-block w-100",src:"./meeting_people2.jpg",alt:"Meeting people!"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Meeting people!"})})]}),Object(y.jsxs)(E.a.Item,{onClick:function(){return alert("Something Bumpy!")},interval:500,children:[Object(y.jsx)("h3",{children:"Something Bumpy!"}),Object(y.jsx)("img",{className:"d-block w-100",src:"./bumpy.jpg",alt:"Something Bumpy!"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Something Bumpy"})})]}),Object(y.jsxs)(E.a.Item,{onClick:"alert('Calm!')",interval:500,children:[Object(y.jsx)("h3",{children:"Something Calm"}),Object(y.jsx)("img",{className:"d-block w-100",src:"./something_calm.jpg",alt:"something calm"}),Object(y.jsx)(E.a.Caption,{children:Object(y.jsx)("h3",{children:"Something Calm"})})]})]})]})};n(883),n(445);var T=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(),i=Object(r.a)(s,2),l=i[0],j=i[1],O=Object(c.useState)(),m=Object(r.a)(O,2),p=m[0],x=m[1],f=Object(c.useState)(),C=Object(r.a)(f,2),k=C[0],w=C[1];return p?(console.log("is active!"),Object(y.jsx)(h.a,{to:"/"})):Object(y.jsxs)(o.a,{children:[Object(y.jsx)("h3",{children:" Sign up as a new user! "}),Object(y.jsxs)(d.a,{style:{display:p?"block":"none"},className:"secondary",children:[Object(y.jsx)("p",{children:"Signed up successfully - active user is detected!"}),Object(y.jsx)("a",{href:"/",children:"Back To HomePage"})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(b.a.Group,{className:"mb-3",controlId:"formName",children:[Object(y.jsx)(b.a.Label,{children:"Your Name"}),Object(y.jsx)(b.a.Control,{type:"text",placeholder:"Enter your name",required:!0,value:l,onChange:function(e){return j(e.target.value)}})]}),Object(y.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(b.a.Label,{children:"Email address"}),Object(y.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",value:n,onChange:function(e){return a(e.target.value)},required:!0}),Object(y.jsx)(b.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(y.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(b.a.Label,{children:"Password"}),Object(y.jsx)(b.a.Control,{type:"password",placeholder:"Password",required:!0,value:k,onChange:function(e){return w(e.target.value)}})]}),Object(y.jsx)("div",{className:"d-grid gap-2",children:Object(y.jsx)(u.a,{disable:p?"disable":"",variant:"success",type:"button",onClick:function(){console.log("In signup!!!"),v.parseInit();var e=new g.a.User;e.set("username",l),e.set("password",k),e.set("email",n),e.set("role","ragular"),e.signUp().then((function(e){console.log("Successfully signed up!"),x(e)})).catch((function(e){console.error(e)})).finally((function(){}))},children:"SignUp"})})]})]})},D=Object(c.createContext)(null),B=n(5),P=n(452),M=n(281),H=function e(t){Object(m.a)(this,e),console.log(JSON.stringify(t)),this.moodDate=t.get("moodDate"),this.id=t.id,this.moodRate=t.get("moodRate"),this.key=t.id};n(1009),n(1014);var R=function(e){e.activeUser;var t=Object(c.useState)(),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),l=o[0],j=o[1],h=Object(c.useState)(),O=Object(r.a)(h,2),m=O[0],x=O[1],f=Object(c.useState)(!1),C=Object(r.a)(f,2),k=C[0],w=C[1],S=Object(c.useState)({labels:[],datasets:[{labels:[],label:"",data:[],backgroundColor:["red","blue","green"],hoverBackgroundColor:"rgba(232,105,90,0.8)",borderWidth:1,borderColor:"#000000"}]}),I=Object(r.a)(S,2),N=I[0],F=I[1],U=Object(c.useMemo)((function(){return Object(y.jsx)(M.a,{data:N,style:{maxHeight:"600px"}})}),[N]);return Object(c.useEffect)((function(){return function(){if(a){var e=new g.a.Query("UserMoods");e.equalTo("email",m),e.select("moodRate","moodDate").find().then((function(e){j(e.map((function(e){return new H(e)})))})).catch((function(e){console.log("Error: "+e.code+" "+e.message)}));var t=l.map((function(e){return console.log(e.moodDate),v.dateFormat(e.moodDate)})),n=l.map((function(e){return console.log(e.moodRate),e.moodRate}));console.log("dates:"+t.length+",rates:"+n.length);var c=Object(B.a)({},N);c.labels=t,c.datasets[0].data=n,console.log(c),F(c)}}()}),[a]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h4",{children:"Select user to view its mood graph:"}),Object(y.jsx)(d.a,{style:{display:k?"block":"none"},className:"alert alert-warning",children:"Error: Failed to fetch selected user, please check your email"}),Object(y.jsxs)(b.a,{style:{display:k?"none":"block"},onSubmit:function(e){return e.preventDefault()},children:[Object(y.jsx)(b.a.Label,{children:"Enter user email to display its graphs:"}),Object(y.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",value:m||"",onChange:function(e){return x(e.target.value)}})]}),Object(y.jsx)(u.a,{className:"button button-secondary",onClick:function(){v.parseInit(),new g.a.Query("User").equalTo("email",m).find().then((function(e){s(new p(e[0]))})).catch((function(e){console.log("Error: "+e.code+" "+e.message),console.log("Error: Failed to fetch selected user, please check your email"),w(!0)}))},children:"Show Graphs!"}),Object(y.jsx)(P.c,{style:{display:k?"none":"block"},children:U}),Object(y.jsx)(M.b,{data:N,labels:N.labels,width:3,height:3,options:{legend:{display:!1},title:{display:!0}}})]})};var _=function(){v.parseInit();var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0];return t[1],Object(y.jsxs)(D.Provider,{value:n,children:[Object(y.jsxs)(O.a,{children:[Object(y.jsxs)(h.d,{children:[Object(y.jsxs)(h.b,{exact:!0,path:"/signup",activeUser:n,children:[" ",Object(y.jsx)(T,{})]}),"    ",Object(y.jsxs)(h.b,{exact:!0,path:"/graphs",activeUser:n,children:[Object(y.jsx)(R,{})," "]}),Object(y.jsxs)(h.b,{exact:!0,path:"/solutions",activeUser:n,children:[" ",Object(y.jsx)(L,{})," "]}),Object(y.jsx)(h.b,{exact:!0,path:"/",children:Object(y.jsx)(U,{})})]})," "]})," "]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1024)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(_,{})}),document.getElementById("root")),G()},408:function(e,t,n){},456:function(e,t,n){},722:function(e,t){},724:function(e,t){},736:function(e,t){},738:function(e,t){},765:function(e,t){},767:function(e,t){},768:function(e,t){},773:function(e,t){},775:function(e,t){},781:function(e,t){},783:function(e,t){},802:function(e,t){},814:function(e,t){},817:function(e,t){},880:function(e,t,n){},883:function(e,t){}},[[1015,1,2]]]);
//# sourceMappingURL=main.4eee6983.chunk.js.map